# Cursor Semantic Scaffolding

I want to implement a system to organize my Cursor artifacts. This involves a file system that is broken into the logical components. This can be added for any given project.

## General guidelines

Ask the user two things:

1. If they want to create this Cursor file structure in the repository root or some other place. If the latter, they will need to supply an absolute path where they want the Cursor file structure to be created.
2. If they want to add the empty repos that will be created to version control.

**IMPORTANT - Path handling**: If the user provides a path that starts with `~` (tilde notation), you MUST expand it to an absolute path before using it in any file operations. Use absolute paths (e.g., `/Users/username/Desktop/...`) for all file and directory operations. You can expand a tilde path using shell commands like `readlink -f ~/path` or by using the shell's expansion, but never use tilde notation directly in file write/read operations.

The file structure is a way to organize documents telling Cursor agents what to do. They are broken out in logical section such as `bugs`, `features`, and `docs`. The idea is that relevant Cursor instructions live in these folders. This should make it easier for the user to create and reference particular documents for Cursor agents when needed.

If part of the file structure already exists in the place that use your specifies, modify it to match the schema below. Do not delete or modify any existing files in the file system, except for moving them to an appropriate place. For example, there could already by a `<project>/.cursor/rules` directory with rules in it but no other subdirectories under `.cursor`. These would need to be created.

For empty sub directories that you create, if the user has specified that they want to add the empty repos that will be created to version control, add a `.gitkeep` file for each such directory. Else, don't create this file. The empty folders in this case will not be under version control.

The following sections detail how this new Cursor file structure should look depending on the option that the user chooses.

## If the user chooses the repository root for the Cursor file structure

If there isn't a `.cursor` directory in the repository root, create it.

The new Cursor file structure should be:

```sh
project/
    ├── .cursor
    |   |__rules/ # Rules used by Cursor. See the Cursor rule `~/cursor-commands/create_cursor_rules.md` for details. This is the only subdirectory that will automatically be read by the Cursor agent. All others will contain documents that the user will need to manually share with the agent.
        |__research/ # For research related to the project. Could be things like investigating local restaurants for a restaurant listing app, or car dealerships for an app built to save users money on car purchases, etc.
        |__bugs/ # For bug-related instructions. Usually instructions for investigating a bug.
        |__features/ # Docs for agents to build out features
        |__refactors/ # Docs related to refactoring.
        |__docs/ # Instructions to create documentation such as README files
        |__progress/ # Documents that keep track of progress on the various initiatives or the overall project. These will often be documents generated by Cursor agents at the request of the user for purposes such as handing off work to a new agent. These records should document the current progress on the project, what was tried to fix a bug, and anything else relevant to a new agent taking over.
        |__qa/ # Testing and QA-related documents.
        |__tmp/ # A place to store temporary files that the Cursor agent creates for its own uses, but that will not be useful to the user or other developers after solving the immediate problem. In many repos, this directory will be version controlled.
        |__init.md # A file with initial instructions to a Cursor agent on a project. Would contain things like a roadmap, initial description of a project, constraints, and anything else that the agent would need to know. This file should initially be created empty.
```

## If the user chooses another directory for the Cursor file structure

If the user selects this option for the location of the new Cursor file structure instead of the repository root, then proceed as follows. The file structure will be essentially the same, except that the root will be a path that the user specifies instead of the repository root. If the user provides a path with tilde notation (e.g., `~/Desktop/projects/my-project/`), you MUST expand it to an absolute path (e.g., `/Users/username/Desktop/projects/my-project/`) before creating any files or directories. Always use absolute paths for all file operations.

Within this user specified directory, create the file structure as above:

```sh
<user-specified-project>/
    ├── .cursor
    |   |__rules/ # Rules used by Cursor. See the Cursor rule `~/cursor-commands/create_cursor_rules.md` for details. This is the only subdirectory that will automatically be read by the Cursor agent. All others will contain documents that the user will need to manually share with the agent.
        |__research/ # For research related to the project. Could be things like investigating local restaurants for a restaurant listing app, or car dealerships for an app built to save users money on car purchases, etc.
        |__bugs/ # For bug-related instructions. Usually instructions for investigating a bug.
        |__features/ # Docs for agents to build out features
        |__refactors/ # Docs related to refactoring.
        |__docs/ # Instructions to create documentation such as README files
        |__progress/ # Documents that keep track of progress on the various initiatives or the overall project. These will often be documents generated by Cursor agents at the request of the user for purposes such as handing off work to a new agent. These records should document the current progress on the project, what was tried to fix a bug, and anything else relevant to a new agent taking over.
        |__qa/ # Testing and QA-related documents.
        |__tmp/ # A place to store temporary files that the Cursor agent creates for its own uses, but that will not be useful to the user or other developers after solving the immediate problem. In many repos, this directory will be version controlled.
        |__init.md # A file with initial instructions to a Cursor agent on a project. Would contain things like a roadmap, initial description of a project, constraints, and anything else that the agent would need to know. This file should initially be created empty.
```
